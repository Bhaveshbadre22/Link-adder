<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Link Storer</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div id="loginScreen" class="login-screen" style="display:none">
    <div class="login-shell">
      <div class="login-left">
        <div class="login-left-inner">
          <video class="login-left-hero" src="/assets/hero vid.mp4" autoplay muted loop playsinline></video>
        </div>
      </div>
      <div class="login-right">
    <div class="login-right-inner">
      <img src="/assets/logo.svg" alt="Link Storer" class="login-right-logo" />
      <div class="login-card">
      <h2>Welcome back</h2>
      <p class="muted">Sign in to access your dashboard</p>
      <form id="loginForm" class="login-form">
        <input id="loginUsername" placeholder="Username" required />
        <input id="loginPassword" type="password" placeholder="Password" required />
        <button type="submit">Login</button>
      </form>
      </div>
    </div>
      </div>
    </div>
  </div>
  <div class="container" style="display:none">
    <aside class="sidebar">
      <div class="logo-wrap">
        <img src="/assets/logo.svg" alt="Leifii logo" class="logo" />
        <button id="sidebarToggle" class="icon-btn sidebar-toggle-btn" aria-label="Toggle sidebar" title="Toggle sidebar">
          <img src="/assets/sidebar.svg" alt="Toggle sidebar" class="sidebar-toggle-icon" />
        </button>
      </div>
      <div class="sidebar-nav">
        <button id="dashboardTab" class="sidebar-tab active">Dashboard</button>
        <button id="addLinkNavBtn" class="sidebar-tab sidebar-tab-add" type="button">
          <span class="sidebar-tab-add-icon">Ôºã</span>
          <span class="sidebar-tab-add-label">Add Link</span>
        </button>
      </div>
      <div class="sidebar-section sidebar-section-folders">
        <div class="sidebar-section-header">
          <div class="sidebar-section-title">Folders</div>
          <button id="newFolderToggle" type="button" class="sidebar-new-folder-btn" title="Create folder">
            <span class="icon">Ôºã</span>
            <span class="label">New</span>
          </button>
        </div>
        <ul id="folders"></ul>
        <form id="folderForm" class="sidebar-folder-form" style="display:none">
          <input id="folderName" placeholder="Folder name" required />
          <div class="sidebar-folder-form-actions">
            <button type="button" id="cancelFolderCreate" class="btn-secondary">Cancel</button>
            <button type="submit" class="btn-primary">Create</button>
          </div>
        </form>
      </div>
      <div class="sidebar-profile">
        <div class="sidebar-profile-avatar">
          <div id="sidebarAvatarFallback" class="avatar-fallback">U</div>
          <img id="sidebarAvatarImg" alt="Profile" />
        </div>
        <div class="sidebar-profile-info">
          <div id="sidebarProfileName" class="profile-name">User</div>
        </div>
        <input id="avatarFileInput" type="file" accept="image/*" style="display:none" />
      </div>
    </aside>
    <main class="main">
      <header class="main-header">
        <div class="main-header-left">
          <div class="main-header-title">Dashboard</div>
        </div>
        <div class="main-header-right">
          <button id="dashboardGameBtn" type="button" class="dashboard-game-btn">Take Link Smart Quiz</button>
          <button id="helpTourBtn" class="icon-btn" aria-label="Dashboard help" title="Guide me through this page">
            ?
          </button>
          <button id="themeToggle" class="icon-btn" aria-label="Toggle theme" title="Toggle theme">
            üåó
          </button>
          <div class="notification-center">
            <button id="notificationsBtn" class="icon-btn" aria-label="Notifications" title="Notifications">
              üîî
            </button>
            <span id="notificationsBadge" class="notifications-badge" style="display:none"></span>
            <div id="notificationsPanel" class="notifications-panel" style="display:none" aria-hidden="true">
              <div class="notifications-header">
                <span>Notifications</span>
                <button id="notificationsClear" type="button" class="notifications-clear">Clear</button>
              </div>
              <div id="notificationsList" class="notifications-list">
                <div class="notifications-empty">No notifications yet.</div>
              </div>
            </div>
          </div>
          <button id="logoutBtn" class="icon-btn" aria-label="Logout" title="Logout">
            ‚èª
          </button>
        </div>
      </header>
      <section id="dashboardSection" style="display:block">
        <div id="dashboardStats" class="dashboard-stats"></div>
        <div class="dashboard-charts" id="dashboardCharts">
          <div class="dashboard-analytics" id="linksMonthAnalytics">
            <div class="analytics-header">
              <span>Links Added This Month</span>
            </div>
            <canvas id="linksMonthChart" width="380" height="220"></canvas>
          </div>
          <div class="dashboard-analytics" id="foldersAnalytics">
            <div class="analytics-header">
              <span>Links by Folder</span>
            </div>
            <canvas id="foldersPieChart" width="380" height="220"></canvas>
          </div>
          <div class="dashboard-analytics" id="usersMonthAnalytics">
            <div class="analytics-header">
              <span>Links per User (This Month)</span>
            </div>
            <canvas id="usersMonthChart" width="380" height="220"></canvas>
          </div>
          <div class="dashboard-analytics" id="usersLeaderboardCard">
            <div class="analytics-header">
              <span>User Leaderboard (This Month)</span>
            </div>
            <div class="users-leaderboard" id="usersLeaderboard"></div>
          </div>
        </div>
      </section>
      <section class="add-link" id="addLinkSection" style="display:none">
        <div class="add-link-header-row">
          <h2>Add Link</h2>
          <button id="addLinkClose" type="button" class="add-link-close" aria-label="Close add link form">‚úï</button>
        </div>
        <form id="linkForm">
            <input id="linkUrl" placeholder="https://example.com" required />
            <textarea id="linkNote" placeholder="Optional note" rows="2"></textarea>
          <div class="multi-select" id="folderMultiSelect">
            <div class="ms-selected" id="folderMultiSelected">Click to select folders</div>
            <div class="ms-panel" id="folderMultiPanel" style="display:none"></div>
          </div>
          <select id="linkFolder" multiple style="display:none">
            <option value="">(No Folder)</option>
          </select>
          <button>Add Link</button>
        </form>
      </section>

      <section id="linksSection" style="display:none">
        <div class="links-header">
          <h2 id="linksHeading">Links</h2>
          <div class="date-filter">
            <label for="datePreset">Filter:</label>
            <select id="datePreset">
              <option value="all">All</option>
              <option value="today">Today</option>
              <option value="yesterday">Yesterday</option>
              <option value="7">Last 7 days</option>
              <option value="custom">Custom</option>
            </select>
            <input type="date" id="dateCustom" style="display:none;margin-left:8px" />
          </div>
        </div>
        <div id="linksHelper" class="links-helper">
          <div class="links-helper-title">How to add a new link</div>
          <p>Use the <strong>Add Link</strong> button in the sidebar: paste your URL, add an optional note, choose one or more folders, then click <strong>Add Link</strong>. Saved links will appear here, grouped by date.</p>
        </div>
        <div id="links"></div>
      </section>
      <section id="gameSection" style="display:none">
        <div id="gameTimerOverlay" class="game-timer-overlay"></div>
        <div id="gameRoot" class="game-root"></div>
        <button id="gameExitOverlayBtn" type="button" class="game-exit-overlay-btn">Exit quiz</button>
      </section>
    </main>
  </div>
  <div id="bulkLinksModal" class="modal-overlay" style="display:none" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-header">
        <h2>Add multiple links</h2>
        <p id="bulkLinksFolderLabel" class="modal-subtitle"></p>
      </div>
      <div class="modal-body">
        <label for="bulkLinksTextarea" class="modal-label">Paste URLs (one per line)</label>
        <textarea id="bulkLinksTextarea" class="modal-textarea" rows="8" placeholder="https://example.com
https://another-site.com/post..."></textarea>
      </div>
      <div class="modal-footer">
        <button id="bulkLinksCancel" type="button" class="btn-secondary">Cancel</button>
        <button id="bulkLinksSave" type="button" class="btn-primary">Add Links</button>
      </div>
    </div>
  </div>
  <div id="imagePreviewOverlay" class="image-preview-overlay" aria-hidden="true">
    <div class="image-preview-inner">
      <button id="imagePreviewClose" class="image-preview-close" aria-label="Close image preview">‚úï</button>
      <img id="imagePreviewImg" alt="Full preview" />
    </div>
  </div>
  <div id="videoPreviewOverlay" class="video-preview-overlay" aria-hidden="true">
    <div class="video-preview-inner">
      <button id="videoPreviewClose" class="video-preview-close" aria-label="Close video preview">‚úï</button>
      <div id="videoPreviewContent" class="video-preview-content"></div>
    </div>
  </div>
  <div id="tourOverlay" class="tour-overlay" style="display:none" aria-hidden="true">
    <div id="tourHighlight" class="tour-highlight"></div>
    <div id="tourTooltip" class="tour-tooltip">
      <div class="tour-tooltip-header">
        <span id="tourTitle" class="tour-title"></span>
        <span id="tourStepCount" class="tour-step-count"></span>
      </div>
      <div id="tourBody" class="tour-body"></div>
      <div class="tour-actions">
        <button id="tourSkip" type="button" class="btn-secondary tour-skip-btn">Skip</button>
        <button id="tourNext" type="button" class="btn-primary tour-next-btn">Next</button>
      </div>
    </div>
  </div>
    <div id="tourPrompt" class="tour-prompt" style="display:none" aria-hidden="true">
      <div class="tour-prompt-card">
        <button id="tourPromptClose" type="button" class="tour-prompt-close" aria-label="Dismiss tour suggestion">‚úï</button>
        <div class="tour-prompt-title">New here?</div>
        <p class="tour-prompt-body">Take a quick guided tour to understand how folders, links, and the dashboard work together.</p>
        <button id="tourPromptStart" type="button" class="btn-primary tour-prompt-start">Start tour</button>
      </div>
    </div>
    <nav id="mobileFooterNav" class="mobile-footer-nav" aria-label="Main navigation">
      <button class="mobile-nav-btn" type="button" data-mobile-nav="folders">
        <span class="mobile-nav-icon">üìÅ</span>
        <span class="mobile-nav-label">Folders</span>
      </button>
        <button class="mobile-nav-btn" type="button" data-mobile-nav="dashboard">
          <span class="mobile-nav-icon">üìä</span>
          <span class="mobile-nav-label">Dashboard</span>
        </button>
      <button class="mobile-nav-btn mobile-nav-add" type="button" data-mobile-nav="add">
        <span class="mobile-nav-add-pill">
          <span class="mobile-nav-add-icon">Ôºã</span>
        </span>
      </button>
      <button class="mobile-nav-btn" type="button" data-mobile-nav="search">
        <span class="mobile-nav-icon">üîç</span>
        <span class="mobile-nav-label">Links</span>
      </button>
      <button class="mobile-nav-btn" type="button" data-mobile-nav="profile">
        <span class="mobile-nav-icon mobile-nav-avatar"></span>
        <span class="mobile-nav-label">You</span>
      </button>
    </nav>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="/app.js?v=1"></script>
</body>
</html>
